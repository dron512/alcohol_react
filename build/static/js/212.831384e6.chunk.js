"use strict";(self.webpackChunkrv18_basic=self.webpackChunkrv18_basic||[]).push([[212],{5594:(e,s,t)=>{t.d(s,{A9:()=>l,KA:()=>o,Sk:()=>d,Ss:()=>a,UN:()=>x});var n=t(3014),i=t(4880),r=t(1933);const c="".concat(n.L,"/favorites"),o=async()=>{try{const e="".concat(c,"/list"),s=await i.Z.get(e);if("2"===s.status.toString().charAt(0))return s.data;alert("\uba54\uc778 \ubaa8\uc2a4\ud2b8 \ub370\uc774\ud130 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328")}catch(e){alert(e)}},a=async e=>{let{code:s}=e;try{const e="".concat(c),t=await i.Z.delete(e,{data:{code:s.code}});if("2"===t.status.toString().charAt(0))return t.data;console.log("\uc2e4\ud328")}catch(t){console.log("err",t)}},l=()=>{const e=(0,r.useQueryClient)(),{mutate:s,isLoading:t}=(0,r.useMutation)((e=>a({code:e})),{onSuccess:s=>{e.invalidateQueries(["wishQuery"])},onError:e=>{console.error("Error updating cart:",e)}});return{mutate:s,isLoading:t}},d=()=>{const e=(0,r.useQueryClient)(),{mutate:s,isLoading:t}=(0,r.useMutation)((e=>(async e=>{let{code:s}=e;try{const e="".concat(c),t=await i.Z.post(e,s);if("2"===t.status.toString().charAt(0))return t.data;console.log("er")}catch(t){console.log("er",t)}})({code:e})),{onSuccess:s=>{e.invalidateQueries(["wishQuery"])},onError:e=>{console.error("Error updating cart:",e)}});return{mutate:s,isLoading:t}},x=e=>{let{setHeartChecked:s}=e;const{mutate:t,isLoading:n}=(0,r.useMutation)((e=>(async e=>{let{code:s}=e;try{const e="".concat(c,"/check"),t=await i.Z.post(e,s);if(200===t.status)return t;console.log("\ub370\uc774\ud130 \ubd88\ub7ec\uc624\uae30 \uc2e4\ud328")}catch(t){console.log(t)}})({code:e})),{onSuccess:e=>{s(e.data)},onError:e=>{console.error("\ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4:",e)}});return{mutate:t,isLoading:n}}},395:(e,s,t)=>{t.d(s,{y:()=>n});const n=(0,t(6030).cn)({key:"addressState",default:""})},2212:(e,s,t)=>{t.r(s),t.d(s,{default:()=>_,items1:()=>M,items2:()=>T});var n=t(5750),i=t(2791),r=(t(4709),t(9777)),c=t(184);const o=e=>{let{count:s,setCount:t}=e;return(0,c.jsxs)(r.nU,{children:[(0,c.jsx)(r.lg,{onClick:()=>{t(1===s?1:s-1)},children:(0,c.jsx)("img",{style:{width:"13px",height:"13px"},src:"/images/minus.svg"})}),(0,c.jsx)(r.Qj,{children:s}),(0,c.jsx)(r.lg,{style:{fontSize:"20px",fontWeight:"bold"},onClick:()=>{t(s+1)},children:"+"})]})};var a=t(7291),l=t(6535),d=t(7689),x=t(6030);const h=e=>{let{taste:s,aroma:t,finish:n}=e;return(0,c.jsx)("div",{children:(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:["\ub9db : ",s]}),(0,c.jsxs)("li",{children:["\ud5a5 : ",t]}),(0,c.jsxs)("li",{children:["\uc5ec\uc6b4 : ",n]})]})})},u=(0,n.Z)("div",{target:"eicwbyo0"})("position:relative;display:flex;gap:20px;li{font-size:16px;margin:20px 0 20px 0;color:",l.G.color.p800,";}");var p=t(2009),g=t(8024);var j=t(1831);const m=(0,n.Z)("div",{target:"ef5afcf3"})("position:relative;display:flex;margin:40px 20px 20px 20px;cursor:pointer;&:hover{background-color:",l.G.color.p300,";}",(e=>e.isActive&&"\n    background-color: ".concat(l.G.color.p300,";\n  ")),";"),v=(0,n.Z)("div",{target:"ef5afcf2"})({name:"uhv1lu",styles:"position:relative;display:flex;width:200px;align-items:center"}),f=(0,n.Z)("div",{target:"ef5afcf1"})({name:"galrd2",styles:"position:relative;align-items:center;text-align:left;width:300px;img{width:20px;height:20px;}"}),y=(0,n.Z)("div",{target:"ef5afcf0"})({name:"b5bbxz",styles:"position:relative;display:flex;align-items:center;margin-bottom:20px;gap:20px;img{width:20px;height:20px;}"}),k=(0,x.cn)({key:"placeState",default:""}),w=(0,x.cn)({key:"stockState",default:0});var b=t(395);const S=e=>{let{place:s,onClose:t}=e;const[n,i]=(0,x.FV)(k),[r,o]=(0,x.FV)(w),[l,d]=(0,x.FV)(b.y);return console.log("ffff ff :",s),(0,c.jsx)("div",{children:(0,c.jsxs)(m,{onClick:()=>{i(s.marketname),o(s.stocknumber),d(s.address),t()},isActive:n===s.marketname,children:[(0,c.jsx)(v,{children:s.marketname&&(0,c.jsx)(a.vD,{children:s.marketname})}),(0,c.jsxs)(f,{children:[(0,c.jsxs)(y,{children:[(0,c.jsx)("img",{src:"/images/address.svg",alt:"Address Icon"}),(0,c.jsx)(a.vD,{children:null===s||void 0===s?void 0:s.address})]}),(0,c.jsxs)(y,{children:[(0,c.jsx)("img",{src:"/images/call.svg",alt:"Call Icon"}),(0,c.jsx)(a.vD,{children:null===s||void 0===s?void 0:s.phonenumber})]}),(0,c.jsxs)(y,{children:[(0,c.jsx)("img",{src:"/images/time.svg",alt:"Time Icon"}),(0,c.jsx)(a.vD,{children:null===s||void 0===s?void 0:s.opentime})]})]})]})})};var C=t(1933),N=t(9326);const G=e=>{let{onClose:s,code:t}=e;console.log("code\uc785\ub2c8\ub2e4. : ",t);const{data:n}=(0,C.useQuery)({queryFn:()=>(0,N.Z1)({code:t})});console.log("\ubc1b\uc740 \ub370\uc774\ud130 : ",n);const[r,o]=(0,i.useState)(null),l=(e=>(console.log("load : ",e),null===e||void 0===e?void 0:e.map((e=>e.address))))(n);console.log("\uc8fc\uc18c \uc29b :",l);const[d,x]=(0,i.useState)([]);return(0,i.useEffect)((()=>{l&&!d.length&&Promise.all(l.map((e=>(e=>new Promise(((s,t)=>{(new window.kakao.maps.services.Geocoder).addressSearch("".concat(e),(function(e,n){if(n===window.kakao.maps.services.Status.OK){const t={lat:e[0].y,lng:e[0].x};s(t)}else t(n)}))})))(e)))).then((e=>{console.log("\ubcc0\ud658\ub41c \uc88c\ud45c:",e),x(e)})).catch((e=>{console.error("\uc8fc\uc18c \ubcc0\ud658 \uc911 \uc624\ub958 \ubc1c\uc0dd:",e)}))}),[l,d]),(0,c.jsx)(j.EJ,{children:(0,c.jsxs)(j.g_,{children:[(0,c.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,c.jsx)(j.fB,{onClick:s,children:(0,c.jsx)("img",{src:"/images/close2.svg"})})}),(0,c.jsxs)("div",{style:{display:"flex"},children:[(0,c.jsx)("div",{children:"dd"}),(0,c.jsx)("div",{children:"ddDD"})]}),(0,c.jsxs)(j.O9,{children:[(0,c.jsxs)(p.D,{center:{lat:35.8683476,lng:128.5940482},style:{width:"500px",height:"100%"},children:[null===d||void 0===d?void 0:d.map(((e,s)=>(0,c.jsx)(g.O,{position:{lat:"".concat(e.lat),lng:"".concat(e.lng)}},s))),(0,c.jsx)(g.O,{position:{lat:35.8683476,lng:128.5940482}}),(0,c.jsx)(g.O,{position:{lat:35.86956707277221,lng:128.59432657224625}}),(0,c.jsx)(g.O,{position:{lat:35.86933415574914,lng:128.59557688236237}})]}),(0,c.jsxs)(j.Nx,{children:[(0,c.jsx)(a.XN,{style:{fontSize:"1.5rem"},children:"\ud310\ub9e4\ucc98 \uc120\ud0dd"}),null===n||void 0===n?void 0:n.map(((e,t)=>(0,c.jsx)(S,{place:e,onClose:s,onClick:()=>(e=>{o(e)})(t),isActive:r===t},t)))]})]})]})})};var Z=t(914),Q=t(2091);t(3972);const{TextArea:z}=Q.default,A=e=>{let{onClose:s}=e;const t=(0,d.s0)(),[r,o]=(0,i.useState)(null),x=(0,n.Z)("div",{target:"ef13rbz2"})({name:"d0vtkc",styles:"position:fixed;display:flex;align-items:center;justify-content:center;left:0;top:0;width:100%;height:100%;z-index:999"}),h=(0,n.Z)("div",{target:"ef13rbz1"})("position:relative;min-width:350px;height:250px;background-color:",l.G.color.p100,";padding:20px;margin:0 auto;box-shadow:0px 4px 8px rgba(0, 0, 0, 0.1);"),u=(0,n.Z)("div",{target:"ef13rbz0"})({name:"14xbgdq",styles:"width:100%;position:relative;text-align:center;justify-content:center;margin:30px 0 20px 0"});return(0,c.jsx)(x,{children:(0,c.jsxs)(h,{children:[(0,c.jsx)("div",{style:{display:"flex",justifyContent:"end"},children:(0,c.jsx)(j.fB,{onClick:s,children:(0,c.jsx)("img",{src:"/images/close2.svg"})})}),(0,c.jsxs)(u,{children:[(0,c.jsx)(a.XN,{children:"\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \uc0c1\ud488\uc774 \ub2f4\uacbc\uc2b5\ub2c8\ub2e4."}),(0,c.jsx)(a.XN,{children:"\ubc14\ub85c \uac00\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"}),(0,c.jsx)(Z.Q3,{}),(0,c.jsx)(Z.Xh,{style:{background:"".concat(l.G.color.p000),border:"1px solid ".concat(l.G.color.p300)},onClick:()=>t("/cart"),children:"\uc7a5\ubc14\uad6c\ub2c8 \ubc14\ub85c\uac00\uae30"})]})]})})};var D=t(1830),O=t.n(D);const X=()=>{const[e,s]=(0,i.useState)(!1),{code:t}=(0,d.UO)();return(0,c.jsxs)("div",{children:[e&&(0,c.jsx)(G,{onClose:()=>{s(!1)},code:t}),(0,c.jsx)(Z.gP,{style:{fontSize:"2rem",height:"40px"},onClick:()=>{s(!0)},children:" \ud310\ub9e4\ucc98 \uc120\ud0dd"})]})},E=e=>{let{postcard:s}=e;const[t,n]=(0,i.useState)(!1),r=(0,C.useMutation)({mutationFn:()=>{(0,N.FM)({postcard:s})},onSuccess:()=>{n(!0)}});return(0,c.jsxs)("div",{children:[t&&(0,c.jsx)(A,{onClose:()=>{n(!1)}}),(0,c.jsx)(Z.Xh,{onClick:()=>{console.log("\uc77c\ub85c\uc624\ub098"+s.delivery),0!==s.stock?s.delivery?r.mutate(s):O().fire("\ubc30\uc1a1\ubc29\uc2dd\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694."):O().fire("\ub9e4\uc7a5\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.")},style:{background:"".concat(l.G.color.p000),border:"1px solid ".concat(l.G.color.p300)},children:"\uc7a5\ubc14\uad6c\ub2c8 \ub2f4\uae30"})]})};var L=t(8637);const U=e=>{let{userNm:s,starCount:t,review:n,date:i}=e;const r=Array.from({length:t},((e,s)=>(0,c.jsx)("img",{src:"/images/star.png",alt:"Star ".concat(s+1),style:{width:"20px",height:"20px"}},s)));return(0,c.jsxs)(Z.Jx,{children:[(0,c.jsxs)(Z.JP,{children:[(0,c.jsxs)(Z.JP,{children:[(0,c.jsx)(a.vD,{children:s}),(0,c.jsx)(L.l,{children:r})]}),(0,c.jsx)(a.Q0,{children:i})]}),(0,c.jsx)(Z.rS,{}),(0,c.jsx)(a.Q0,{children:n})]})},W=[{name:"\ub098\ub294 \uc220\uc744 \uc88b\uc544\ud558\ub294 \uace0\ub77c\ub2c8 1set",introduction:"\uc0c1\ud488\uc18c\uac1c : \uc300\uc300\ud55c \uaca8\uc6b8\uc5d0",stars:4,price:34e3}];var F=t(5594);const I=e=>{let{content:s,nation:t}=e;return(0,c.jsx)("div",{children:(0,c.jsxs)("ul",{children:[(0,c.jsxs)("li",{children:["\ub3c4\uc218 : ",s,"\ub3c4"]}),(0,c.jsxs)("li",{children:["\uad6d\uac00 : ",t]})]})})},J=e=>{let{items:s}=e;return(0,c.jsx)("div",{children:(0,c.jsx)("ul",{children:s.map(((e,s)=>(0,c.jsx)("li",{children:e},s)))})})};var P=t(4880),$=t(9141),q=t(3014);const M=["1","2","3"],T=["a","b","c"],_=()=>{var e,s;const t=(0,d.s0)(),r=W[0],p=(0,x.sJ)(k),g=(0,x.sJ)(w),j=(0,x.sJ)(b.y),[m,v]=(0,i.useState)(1),[f,y]=(0,i.useState)(),[S,G]=(0,i.useState)(!1),[Q,z]=(0,i.useState)(!1),[A,D]=(0,i.useState)(!1),[M,T]=(0,i.useState)(""),[_,B]=(0,i.useState)({nickname:"",phone:"",address:"",address2:"",email:""}),[H,K]=(0,i.useState)([{code:"",name:"",picture:"",price:"",amount:"",market:"",delivery:"",address:"",address2:""}]),[V,R]=(0,i.useState)([{userNm:"",starCount:"",review:"",date:""}]),Y=(0,n.Z)("div",{target:"e12cqrxw0"})({name:"5ir6sz",styles:"display:flex;position:relative;align-items:center;gap:30px;margin-bottom:20px"}),{code:ee}=(0,d.UO)(),se={code:Number(ee)};console.log(se);const{data:te}=(0,C.useQuery)({queryKey:[],queryFn:()=>(0,N.Nm)({code:ee})}),ne=te||[{code:0,name:"",ratingaverage:0,price:0,maincategory:"",subcategory:"",content:"",aroma:"",taste:"",finish:"",nation:"",picture:"",picture2:"",reviewcacount:0}],ie=Array.from({length:ne[0].ratingaverage},((e,s)=>(0,c.jsx)("img",{src:"/images/star.png",alt:"star"},s))),re=ne[0].taste,ce=ne[0].aroma,oe=ne[0].finish,ae=ne[0].content,le=ne[0].nation,de=ne[0].reviewcacount,xe=re;console.log("array : ",xe);const he=["".concat(ne[0].maincategory),"".concat(ne[0].subcategory)],{mutate:ue}=(0,F.Sk)(),{mutate:pe}=(0,F.A9)(),{mutate:ge}=(0,F.UN)({setHeartChecked:y}),je=(null===(e=ne[0])||void 0===e?void 0:e.price)*m,me=null===(ve=je)||void 0===ve?void 0:ve.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");var ve;const fe={alcoholcode:ee,stock:g,marketname:p,amount:m,price:ne[0].price,delivery:M};return(0,i.useEffect)((()=>{""!==_.nickname&&t("/directpay/buy",{state:{info:_,productInfo:H,price:je}}),(async()=>{const e={code:se.code};await P.Z.post("".concat(q.L,"/detail/alcohol"),e,{}).then((e=>{const s=[];for(let t=0;t<e.data.length;t++)s.push({userNm:e.data[t].nickname,starCount:e.data[t].grade,review:e.data[t].writing,date:e.data[t].date});R(s)})).catch((e=>{console.log(e)}))})(),ge({code:se.code})}),[_,f]),(0,c.jsxs)(Z.H7,{children:[(0,c.jsxs)(Z.IU,{children:[(0,c.jsx)("img",{src:ne[0].picture}),(0,c.jsxs)("div",{className:"information",children:[(0,c.jsxs)(Y,{children:[(0,c.jsx)("h1",{children:null===(s=ne[0])||void 0===s?void 0:s.name}),(0,c.jsx)(Z._x,{onClick:()=>{f||ue({code:se.code},{onSuccess:()=>{ge({code:se.code})}}),f&&pe({code:se.code},{onSuccess:()=>{ge({code:se.code})}})},children:(0,c.jsx)("img",{src:f?"/images/heartOn.svg":"/images/heartOff.svg",alt:"heart",className:"heart-icon",style:{cursor:"pointer"}})})]}),(0,c.jsx)(a.vD,{style:{color:"".concat(l.G.color.p600)},children:r.introduction}),(0,c.jsxs)("div",{className:"starRev",children:[(0,c.jsx)(L.l,{children:ie}),(0,c.jsxs)("a",{href:"#\ub9ac\ubdf0",children:[de," \ub9ac\ubdf0\ub354\ubcf4\uae30"]})]}),(0,c.jsxs)("h1",{children:[ne[0].price,"\uc6d0"]}),(0,c.jsx)("div",{className:"line"}),(0,c.jsx)(X,{}),(0,c.jsxs)("div",{className:"info",children:[(0,c.jsxs)("ul",{children:[(0,c.jsx)("li",{children:"\uc120\ud0dd\ub41c \ud310\ub9e4\ucc98"}),(0,c.jsx)("li",{children:"\ubc30\uc1a1\uc815\ubcf4"})]}),(0,c.jsxs)("ul",{children:[ne?(0,c.jsxs)("li",{children:[p,"\xa0"]}):(0,c.jsx)("li",{children:"\ud310\ub9e4\ucc98\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694"}),(0,c.jsx)("li",{children:(0,c.jsxs)("select",{style:{width:"150px",height:"28px",border:"1px solid ".concat(l.G.color.p300),color:"".concat(l.G.color.p600),fontSize:"16px"},onChange:e=>{T(e.target.value)},children:[(0,c.jsx)("option",{value:"",children:"\ubc30\uc1a1\uc120\ud0dd"}),(0,c.jsx)("option",{value:"PickUp",children:"\ud53d\uc5c5"}),(0,c.jsx)("option",{value:"Delivery",children:"\ubc30\uc1a1"})]})})]})]}),(0,c.jsxs)("div",{className:"count",children:[(0,c.jsx)("p",{className:"product-name",children:ne[0].name}),(0,c.jsx)(o,{name:"productCnt",setCount:v,count:m}),(0,c.jsxs)("p",{children:[ne[0].price,"\uc6d0"]})]}),(0,c.jsx)("div",{className:"line"}),(0,c.jsxs)(Z.TZ,{children:[(0,c.jsx)(a.I$,{children:"\ucd1d \uc0c1\ud488\uae08\uc561"}),(0,c.jsxs)(a.f1,{style:{color:"".concat(l.G.color.f900),fontWeight:"bold"},children:[me,"\uc6d0"]})]}),(0,c.jsxs)("div",{className:"pay-button",children:[(0,c.jsx)(E,{postcard:fe}),(0,c.jsx)(Z.Xh,{onClick:async()=>{await(async()=>{const e=await(0,$.R)();return""===p?O().fire("\ub9e4\uc7a5\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694."):""===M?O().fire("\ubc30\uc1a1\ubc29\uc2dd\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694."):("Delivery"===M?K([{code:ne[0].code,name:ne[0].name,picture:ne[0].picture,price:ne[0].price,amount:fe.amount,market:p,delivery:M,address:e.address+" "+e.address2}]):"PickUp"===M&&K([{code:ne[0].code,name:ne[0].name,picture:ne[0].picture,price:ne[0].price,amount:fe.amount,market:p,delivery:M,address:j}]),void B({nickname:e.nickname,address:e.address,address2:e.address2,phone:e.phone,email:e.email}))})()},style:{background:"".concat(l.G.color.f900),border:"1px solid ".concat(l.G.color.p000),color:"".concat(l.G.color.p000)},children:"\ubc14\ub85c \uad6c\ub9e4\ud558\uae30"})]})]})]}),(0,c.jsx)(Z.W$,{}),(0,c.jsxs)("div",{children:[(0,c.jsx)(a.r,{children:"\uc0c1\uc138\ud398\uc774\uc9c0"}),(0,c.jsx)(u,{children:(0,c.jsx)("img",{style:{width:"600px"},src:ne[0].picture2})})]}),(0,c.jsx)(Z.W$,{}),(0,c.jsxs)("div",{children:[(0,c.jsx)(a.XN,{children:"Tasting Note"}),(0,c.jsx)(u,{children:(0,c.jsx)(h,{taste:re,aroma:ce,finish:oe})})]}),(0,c.jsx)(Z.W$,{}),(0,c.jsxs)("div",{children:[(0,c.jsx)(a.XN,{children:"Information"}),(0,c.jsx)(u,{children:(0,c.jsx)(I,{content:ae,nation:le})})]}),(0,c.jsx)(Z.W$,{}),(0,c.jsxs)("div",{children:[(0,c.jsx)(a.XN,{children:"Category"}),(0,c.jsx)(u,{children:(0,c.jsx)(J,{items:he})})]}),(0,c.jsx)(Z.W$,{}),(0,c.jsxs)("div",{id:"\ub9ac\ubdf0",children:[(0,c.jsx)(Z.Q3,{}),(0,c.jsx)(Z.Q3,{}),(0,c.jsxs)(a.XN,{children:["\ub9ac\ubdf0(",de,")"]}),(0,c.jsx)(Z.W$,{style:{background:"".concat(l.G.color.p600),height:"2px",margin:"10px 0 0 0"}}),V&&V.map(((e,s)=>(0,c.jsx)(U,{userNm:e.userNm,starCount:e.starCount,review:e.review,date:e.date},s)))]})]})}},3972:(e,s,t)=>{t.d(s,{w:()=>r});var n=t(5750),i=t(6535);const r=(0,n.Z)("button",{target:"elarjx30"})("width:120px;height:40px;background:",i.G.color.b900,";color:",i.G.color.p100,";font-size:13px;cursor:pointer;")},8637:(e,s,t)=>{t.d(s,{l:()=>r});var n=t(5750),i=t(6535);const r=(0,n.Z)("div",{target:"e1lw7wcc0"})("display:flex;align-items:center;img{width:19px;height:15px;}a{margin-left:10px;font-size:13px;color:",i.G.color.p400,";text-decoration:underline;}")}}]);
//# sourceMappingURL=212.831384e6.chunk.js.map