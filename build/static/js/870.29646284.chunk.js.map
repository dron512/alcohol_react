{"version":3,"file":"static/js/870.29646284.chunk.js","mappings":"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","sources":["pages/directpay/DirectPayPage.js","styles/login/loginCss.js"],"sourcesContent":["import BasicLayout from \"../../layout/BasicLayout\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { LoginBt } from \"../../styles/login/loginCss\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Button } from \"antd\";\r\nimport { buttonPrimaryStyle } from \"../../styles/sign/signArea\";\r\nimport { SERVER_URL } from \"../../api/config\";\r\nimport jwtAxios from \"../../util/jwtUtil\";\r\n\r\nconst DirectPayPage = () => {\r\n  const location = useLocation();\r\n  const { info, productInfo, price } = location.state || {};\r\n  const navigate = useNavigate();\r\n\r\n  const totalPrice = price;\r\n\r\n  var productname = \"\";\r\n  const [basketInfo, setBasketInfo] = useState([\r\n    // {\r\n    //   image: \"\",\r\n    //   productname: \"\",\r\n    //   orderdate: \"\",\r\n    //   marketname: \"\",\r\n    //   ordernumber: \"\",\r\n    //   delivery: \"\",\r\n    //   address: \"\",\r\n    //   address2: \"\",\r\n    //   price: \"\",\r\n    //   amount: \"\",\r\n    // },\r\n  ]);\r\n  const [stockNum, setStockNum] = useState([\r\n    // {\r\n    //   stocknumber: \"\",\r\n    //   alcohol: \"\",\r\n    //   market: \"\",\r\n    //   amount: \"\",\r\n    // },\r\n  ]);\r\n\r\n  const totalprice = () => {\r\n    var total = 0;\r\n    var name = \"\";\r\n    const orderdate = new Date();\r\n    const date = `${\r\n      orderdate.getFullYear() +\r\n      \"-\" +\r\n      orderdate.getMonth() +\r\n      \"-\" +\r\n      orderdate.getDay() +\r\n      \" \" +\r\n      orderdate.getHours() +\r\n      \":\" +\r\n      orderdate.getMinutes()\r\n    }`;\r\n    const rand = Math.floor(Math.random() * (999999 - 100000 + 1) + 100000);\r\n    for (let i = 0; i < productInfo.length; i++) {\r\n      total = productInfo[i].price * productInfo[i].amount;\r\n      name += productInfo[i].name;\r\n      basketInfo.push(\r\n        {\r\n          image: productInfo[i].picture,\r\n          productname: productInfo[i].name,\r\n          purchaseday: date,\r\n          marketname: productInfo[i].market,\r\n          amount: productInfo[i].amount,\r\n          ordernumber: rand,\r\n          delivery: productInfo[i].delivery,\r\n          address: productInfo[i].address,\r\n          address2: \"\",\r\n          price: total,\r\n        },\r\n      );\r\n    }\r\n    productname = name;\r\n    saveBasket();\r\n  };\r\n\r\n  const saveBasket = async () => {\r\n    for (let i = 0; i < basketInfo.length; i++) {\r\n      var body = {\r\n        alcoholname: basketInfo[i].productname,\r\n        marketname: basketInfo[i].marketname,\r\n      };\r\n      await jwtAxios\r\n        .post(`${SERVER_URL}/purchase/stockcode`, body, {})\r\n        .then(res => {\r\n          stockNum.push(res.data);\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    }\r\n    if (stockNum.length !== 0) {\r\n      sessionStorage.setItem(\"stockNum\", JSON.stringify(stockNum));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    totalprice();\r\n  }, []);\r\n\r\n  const tosspay = async () => {\r\n    const body = {\r\n      price: price,\r\n      productname: productname,\r\n    };\r\n    await jwtAxios\r\n      .post(`${SERVER_URL}/purchase/toss`, body, {})\r\n      .then(res => {\r\n        console.log(res);\r\n        if (JSON.stringify(res.status).startsWith(\"2\")) {\r\n          sessionStorage.setItem(\"basketInfo\", JSON.stringify(basketInfo));\r\n          window.location.href = res.data.checkoutPage;\r\n        }\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <BasicLayout>\r\n      <div className=\"pay\">\r\n        <div className=\"payline1\"></div>\r\n        <div className=\"buyinfo\">\r\n          <ul>\r\n            <li>\r\n              <h2>주문정보</h2>\r\n            </li>\r\n            <li>\r\n              <h2>상품정보</h2>\r\n            </li>\r\n            <li>\r\n              <h2>상품명</h2>\r\n            </li>\r\n            <li>\r\n              <h2>수량</h2>\r\n            </li>\r\n            <li>\r\n              <h2>결제금액</h2>\r\n            </li>\r\n            <li>\r\n              <h2>선택매장</h2>\r\n            </li>\r\n            <li>\r\n              <h2>구매방식</h2>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"payline2\"></div>\r\n        <div className=\"info\">\r\n          <div className=\"user\">\r\n            <h2>구매자 : {info.nickname}</h2>\r\n            <h2>휴대폰번호 : {info.phone}</h2>\r\n            <h2>배송지 : {info.address}</h2>\r\n            <h2>이메일 : {info.email}</h2>\r\n          </div>\r\n          <div className=\"product\">\r\n            {productInfo.map((product, index) => {\r\n              return (\r\n                <div key={index}>\r\n                  <div className=\"product-map\">\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        height: \"220px\",\r\n                      }}\r\n                    >\r\n                      <img\r\n                        className=\"product-info\"\r\n                        style={{ width: \"100px\", height: \"100px\" }}\r\n                        src={product.picture}\r\n                        alt=\"이미지\"\r\n                      />\r\n                      <h2 className=\"product-name\">{product.name}</h2>\r\n                      <h2 className=\"product-count\">{product.amount}</h2>\r\n                      <h2 className=\"product-price\">{product.price}</h2>\r\n                      <h2 className=\"product-market\">{product.market}</h2>\r\n                      <h2 className=\"product-way\">{product.delivery}</h2>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"payline2\"></div>\r\n        <div>\r\n          <h1>주문금액</h1>\r\n          <div className=\"payline1\"></div>\r\n          <div>\r\n            <div className=\"total\">\r\n              <h2>총 상품금액</h2>\r\n              <h2>총 배송비</h2>\r\n              <h2>결제예정금액</h2>\r\n            </div>\r\n            <div className=\"payline2\"></div>\r\n            <div className=\"total\">\r\n              <h1>{price}원</h1>\r\n              <h1>0원</h1>\r\n              <h1>{price}원</h1>\r\n            </div>\r\n            <div className=\"payline2\"></div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h1>결제수단</h1>\r\n          <div className=\"payline1\"></div>\r\n          <div className=\"paybtndiv\">\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              style={buttonPrimaryStyle}\r\n              onClick={tosspay}\r\n            >\r\n              토스결제\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </BasicLayout>\r\n  );\r\n};\r\n\r\nexport default DirectPayPage;\r\n","import styled from \"@emotion/styled/macro\";\nimport { Common } from \"../CommonCss\";\n\nexport const LoginWrap = styled.div`\n  min-width: 1300px;\n  padding: 130px 330px 130px 330px;\n`;\nexport const LoginTitle = styled.div`\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-direction: column; /* 세로로 요소를 나열하도록 설정 */\n  align-items: center;\n  /* padding: 30px 0 30px 0; */\n  .logo {\n    font-size: 50px;\n    font-weight: bold;\n    padding-bottom: 130px;\n  }\n  .email-line {\n    position: relative;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: ${Common.color.p800};\n    padding-bottom: 50px;\n    /* padding: 20px 0 20px 0; */\n    p {\n      font-size: 20px;\n    }\n    .line {\n      height: 2px;\n      width: 30%;\n      background: ${Common.color.p800};\n    }\n  }\n  .login-line {\n    position: relative;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: ${Common.color.p800};\n    padding: 20px 0 40px 0;\n    p {\n      font-size: 20px;\n    }\n    .line {\n      height: 2px;\n      width: 30%;\n      background: ${Common.color.p800};\n    }\n  }\n`;\nexport const LoginBt = styled.button`\n  width: 100%;\n  height: 60px;\n  margin-bottom: 17px;\n  border-radius: 8px;\n  font-size: 20px;\n  color: ${Common.color.p800};\n  /* background: ${Common.color.y900}; */\n  background: none;\n  border: 1px solid ${Common.color.p500};\n  cursor: pointer;\n  img {\n    width: 21px;\n    margin-right: 10px;\n  }\n`;\n"],"names":["DirectPayPage","location","useLocation","info","productInfo","price","state","useNavigate","productname","basketInfo","setBasketInfo","useState","stockNum","setStockNum","saveBasket","async","i","length","body","alcoholname","marketname","jwtAxios","post","concat","SERVER_URL","then","res","push","data","catch","e","console","log","sessionStorage","setItem","JSON","stringify","useEffect","totalprice","total","name","orderdate","Date","date","getFullYear","getMonth","getDay","getHours","getMinutes","rand","Math","floor","random","amount","image","picture","purchaseday","market","ordernumber","delivery","address","address2","_jsx","BasicLayout","children","_jsxs","className","nickname","phone","email","map","product","index","style","display","alignItems","height","width","src","alt","Button","type","htmlType","buttonPrimaryStyle","onClick","status","startsWith","window","href","checkoutPage","LoginWrap","_styled","target","styles","LoginTitle","Common","color","p800","LoginBt","p500"],"sourceRoot":""}