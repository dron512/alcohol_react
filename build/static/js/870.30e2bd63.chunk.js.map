{"version":3,"file":"static/js/870.30e2bd63.chunk.js","mappings":"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","sources":["pages/directpay/DirectPayPage.js","styles/login/loginCss.js"],"sourcesContent":["import BasicLayout from \"../../layout/BasicLayout\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { LoginBt } from \"../../styles/login/loginCss\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { Button } from \"antd\";\r\nimport { buttonPrimaryStyle } from \"../../styles/sign/signArea\";\r\nimport { SERVER_URL } from \"../../api/config\";\r\nimport jwtAxios from \"../../util/jwtUtil\";\r\n\r\nvar total = true;\r\n\r\nconst DirectPayPage = () => {\r\n  const location = useLocation();\r\n  const { info, productInfo } = location.state || {};\r\n  const navigate = useNavigate();\r\n\r\n  console.log(info,'info')\r\n  console.log(productInfo,'productinfo')\r\n\r\n  const [price, setPrice] = useState(0);\r\n  const [productname, setProductname] = useState(\"\");\r\n  const [basketInfo, setBasketInfo] = useState([\r\n    {\r\n      image: \"\",\r\n      productname: \"\",\r\n      orderdate: \"\",\r\n      marketname: \"\",\r\n      ordernumber: \"\",\r\n      delivery: \"\",\r\n      address: \"\",\r\n      address2: \"\",\r\n      price: \"\",\r\n      amount: \"\",\r\n    },\r\n  ]);\r\n  const [stockNum, setStockNum] = useState([\r\n    {\r\n      stocknumber: \"\",\r\n      alcohol: \"\",\r\n      market: \"\",\r\n      amount: \"\",\r\n    },\r\n  ]);\r\n\r\n  const totalprice = () => {\r\n    var total = 0;\r\n    var name = \"\";\r\n    const orderdate = new Date();\r\n    const date = `${\r\n      orderdate.getFullYear() +\r\n      \"-\" +\r\n      orderdate.getMonth() +\r\n      \"-\" +\r\n      orderdate.getDay() +\r\n      \" \" +\r\n      orderdate.getHours() +\r\n      \":\" +\r\n      orderdate.getMinutes()\r\n    }`;\r\n    const rand = Math.floor(Math.random() * (999999 - 100000 + 1) + 100000);\r\n    for (let i = 0; i < productInfo.length; i++) {\r\n      console.log(productInfo[i],';asljkdklasjdlkas')\r\n      total += productInfo[i].price * productInfo[i].amount;\r\n      name += productInfo[i].name;\r\n      setBasketInfo([\r\n        {\r\n          image: productInfo[i].picture,\r\n          productname: name,\r\n          purchaseday: date,\r\n          marketname: productInfo[i].market,\r\n          amount: productInfo[i].amount,\r\n          ordernumber: rand,\r\n          delivery: productInfo[i].delivery,\r\n          address: productInfo[i].address,\r\n          address2: \"\",\r\n          price: total,\r\n        },\r\n      ]);\r\n    }\r\n    setPrice(total);\r\n    setProductname(name);\r\n  };\r\n\r\n  const saveBasket = async () => {\r\n    for (let i = 0; i < basketInfo.length; i++) {\r\n      var body = {\r\n        alcoholname: basketInfo[i].productname,\r\n        marketname: basketInfo[i].marketname,\r\n      };\r\n      await jwtAxios\r\n        .post(`${SERVER_URL}/purchase/stockcode`, body, {})\r\n        .then(res => {\r\n          setStockNum([res.data]);\r\n        })\r\n        .catch(e => {\r\n          console.log(e);\r\n        });\r\n    }\r\n  };\r\n  if (stockNum[0] !== 0) {\r\n    sessionStorage.setItem(\"stockNum\", JSON.stringify(stockNum));\r\n  }\r\n  useEffect(() => {\r\n    if (total === true) {\r\n      console.log('도나?')\r\n      total = false;\r\n      totalprice();\r\n    }\r\n    if (basketInfo[0].image !== \"\") {\r\n      saveBasket();\r\n    }\r\n  }, [basketInfo]);\r\n\r\n  const tosspay = async () => {\r\n    const body = {\r\n      price: price,\r\n      productname: productname,\r\n    };\r\n    await jwtAxios\r\n      .post(`${SERVER_URL}/purchase/toss`, body, {})\r\n      .then(res => {\r\n        if (JSON.stringify(res.status).startsWith(\"2\")) {\r\n          sessionStorage.setItem(\"basketInfo\", JSON.stringify(basketInfo));\r\n          window.location.href = res.data.checkoutPage;\r\n        }\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <BasicLayout>\r\n      <div className=\"pay\">\r\n        <div className=\"payline1\"></div>\r\n        <div className=\"buyinfo\">\r\n          <ul>\r\n            <li>\r\n              <h2>주문정보</h2>\r\n            </li>\r\n            <li>\r\n              <h2>상품정보</h2>\r\n            </li>\r\n            <li>\r\n              <h2>상품명</h2>\r\n            </li>\r\n            <li>\r\n              <h2>수량</h2>\r\n            </li>\r\n            <li>\r\n              <h2>결제금액</h2>\r\n            </li>\r\n            <li>\r\n              <h2>선택매장</h2>\r\n            </li>\r\n            <li>\r\n              <h2>구매방식</h2>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <div className=\"payline2\"></div>\r\n        <div className=\"info\">\r\n          <div className=\"user\">\r\n            <h2>구매자 : {info.nickname}</h2>\r\n            <h2>휴대폰번호 : {info.phone}</h2>\r\n            <h2>배송지 : {info.address}</h2>\r\n            <h2>이메일 : {info.email}</h2>\r\n          </div>\r\n          <div className=\"product\">\r\n            {productInfo.map((product, index) => {\r\n              return (\r\n                <div key={index}>\r\n                  <div className=\"product-map\">\r\n                    <div\r\n                      style={{\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        height: \"220px\",\r\n                      }}\r\n                    >\r\n                      <img\r\n                        className=\"product-info\"\r\n                        style={{ width: \"100px\", height: \"100px\" }}\r\n                        src={product.picture}\r\n                        alt=\"이미지\"\r\n                      />\r\n                      <h2 className=\"product-name\">{product.name}</h2>\r\n                      <h2 className=\"product-count\">{product.amount}</h2>\r\n                      <h2 className=\"product-price\">{product.price}</h2>\r\n                      <h2 className=\"product-market\">{product.market}</h2>\r\n                      <h2 className=\"product-way\">{product.delivery}</h2>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        <div className=\"payline2\"></div>\r\n        <div>\r\n          <h1>주문금액</h1>\r\n          <div className=\"payline1\"></div>\r\n          <div>\r\n            <div className=\"total\">\r\n              <h2>총 상품금액</h2>\r\n              <h2>총 배송비</h2>\r\n              <h2>결제예정금액</h2>\r\n            </div>\r\n            <div className=\"payline2\"></div>\r\n            <div className=\"total\">\r\n              <h1>{price}원</h1>\r\n              <h1>0원</h1>\r\n              <h1>{price}원</h1>\r\n            </div>\r\n            <div className=\"payline2\"></div>\r\n          </div>\r\n        </div>\r\n        <div>\r\n          <h1>결제수단</h1>\r\n          <div className=\"payline1\"></div>\r\n          <div className=\"paybtndiv\">\r\n            <Button\r\n              type=\"primary\"\r\n              htmlType=\"submit\"\r\n              style={buttonPrimaryStyle}\r\n              onClick={tosspay}\r\n            >\r\n              토스결제\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </BasicLayout>\r\n  );\r\n};\r\n\r\nexport default DirectPayPage;\r\n","import styled from \"@emotion/styled/macro\";\nimport { Common } from \"../CommonCss\";\n\nexport const LoginWrap = styled.div`\n  min-width: 1300px;\n  padding: 130px 330px 130px 330px;\n`;\nexport const LoginTitle = styled.div`\n  position: relative;\n  width: 100%;\n  display: flex;\n  flex-direction: column; /* 세로로 요소를 나열하도록 설정 */\n  align-items: center;\n  /* padding: 30px 0 30px 0; */\n  .logo {\n    font-size: 50px;\n    font-weight: bold;\n    padding-bottom: 130px;\n  }\n  .email-line {\n    position: relative;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: ${Common.color.p800};\n    padding-bottom: 50px;\n    /* padding: 20px 0 20px 0; */\n    p {\n      font-size: 20px;\n    }\n    .line {\n      height: 2px;\n      width: 30%;\n      background: ${Common.color.p800};\n    }\n  }\n  .login-line {\n    position: relative;\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    color: ${Common.color.p800};\n    padding: 20px 0 40px 0;\n    p {\n      font-size: 20px;\n    }\n    .line {\n      height: 2px;\n      width: 30%;\n      background: ${Common.color.p800};\n    }\n  }\n`;\nexport const LoginBt = styled.button`\n  width: 100%;\n  height: 60px;\n  margin-bottom: 17px;\n  border-radius: 8px;\n  font-size: 20px;\n  color: ${Common.color.p800};\n  /* background: ${Common.color.y900}; */\n  background: none;\n  border: 1px solid ${Common.color.p500};\n  cursor: pointer;\n  img {\n    width: 21px;\n    margin-right: 10px;\n  }\n`;\n"],"names":["total","DirectPayPage","location","useLocation","info","productInfo","state","useNavigate","console","log","price","setPrice","useState","productname","setProductname","basketInfo","setBasketInfo","image","orderdate","marketname","ordernumber","delivery","address","address2","amount","stockNum","setStockNum","stocknumber","alcohol","market","sessionStorage","setItem","JSON","stringify","useEffect","totalprice","name","Date","date","concat","getFullYear","getMonth","getDay","getHours","getMinutes","rand","Math","floor","random","i","length","picture","purchaseday","async","body","alcoholname","jwtAxios","post","SERVER_URL","then","res","data","catch","e","saveBasket","_jsx","BasicLayout","children","_jsxs","className","nickname","phone","email","map","product","index","style","display","alignItems","height","width","src","alt","Button","type","htmlType","buttonPrimaryStyle","onClick","status","startsWith","window","href","checkoutPage","LoginWrap","_styled","target","styles","LoginTitle","Common","color","p800","LoginBt","p500"],"sourceRoot":""}